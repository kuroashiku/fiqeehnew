!function(a){"use strict";var e=window.LandingPressKitData||{},r={LibraryLayoutView:null,LibraryHeaderView:null,LibraryLoadingView:null,LibraryInsertingView:null,LibraryErrorView:null,LibraryBodyView:null,LibraryCollectionView:null,LibraryTabsCollectionView:null,LibraryTabsItemView:null,LibraryTemplateItemView:null,LibraryInsertTemplateBehavior:null,LibraryTabsCollection:null,LibraryCollection:null,LibraryTemplateModel:null,TabModel:null,CategoriesModel:null,CategoriesView:null,KeywordsModel:null,KeywordsView:null,SearchModel:null,SearchView:null,LibraryPreviewView:null,LibraryHeaderBack:null,LibraryHeaderInsertButton:null,init:function(){var l=this;l.LibraryTemplateModel=Backbone.Model.extend({defaults:{template_id:0,name:"",title:"",thumbnail:"",preview:"",source:"",categories:[],keywords:[]}}),l.TabModel=Backbone.Model.extend({defaults:{slug:"",title:""}}),l.CategoriesModel=Backbone.Model.extend({defaults:{categories:{}}}),l.KeywordsModel=Backbone.Model.extend({defaults:{keywords:{}}}),l.SearchModel=Backbone.Model.extend({defaults:{search:""}}),l.LibraryCollection=Backbone.Collection.extend({model:l.LibraryTemplateModel}),l.LibraryTabsCollection=Backbone.Collection.extend({model:l.TabModel}),l.LibraryLoadingView=Marionette.ItemView.extend({id:"landingpresskit-template-library-loading",template:"#tmpl-landingpresskit-template-library-loading"}),l.LibraryInsertingView=Marionette.ItemView.extend({id:"landingpresskit-template-library-inserting",template:"#tmpl-landingpresskit-template-library-inserting"}),l.LibraryErrorView=Marionette.ItemView.extend({id:"landingpresskit-template-library-error",template:"#tmpl-landingpresskit-template-library-error"}),l.CategoriesView=Marionette.ItemView.extend({id:"landingpresskit-template-library-categories",template:"#tmpl-landingpresskit-template-library-categories",ui:{categories:".landingpresskit-library-categories"},events:{"change @ui.categories":"onSelectCategory"},onSelectCategory:function(e){e=e.currentTarget.selectedOptions[0].value;s.setFilter("category",e)}}),l.KeywordsView=Marionette.ItemView.extend({id:"landingpresskit-template-library-keywords",template:"#tmpl-landingpresskit-template-library-keywords",ui:{keywords:".landingpresskit-library-keywords"},events:{"change @ui.keywords":"onSelectKeyword"},onSelectKeyword:function(e){e=e.currentTarget.selectedOptions[0].value;s.setFilter("keyword",e)}}),l.SearchView=Marionette.ItemView.extend({id:"landingpresskit-template-library-search",template:"#tmpl-landingpresskit-template-library-search",ui:{search:"#landingpresskit-library-search"},events:{"input @ui.search":"onTypeSearch"},onTypeSearch:function(t){clearTimeout(void 0),setTimeout(function(){var e=t.currentTarget.value.toLowerCase();s.setFilter("search",e)},1500)}}),l.LibraryHeaderView=Marionette.LayoutView.extend({id:"landingpresskit-template-library-header",template:"#tmpl-landingpresskit-template-library-header",ui:{closeModal:"#landingpresskit-template-library-header-close-modal"},events:{"click @ui.closeModal":"onCloseModalClick"},regions:{headerTabs:"#landingpresskit-template-library-header-tabs",headerActions:"#landingpresskit-template-library-header-actions"},onCloseModalClick:function(){s.closeModal()}}),l.LibraryPreviewView=Marionette.ItemView.extend({template:"#tmpl-landingpresskit-template-library-preview",id:"landingpresskit-template-library-preview",ui:{iframe:"> iframe"},onRender:function(){this.ui.iframe.attr("src",this.getOption("preview"))}}),l.LibraryHeaderBack=Marionette.ItemView.extend({template:"#tmpl-landingpresskit-template-library-header-back",id:"landingpresskit-template-library-header-back",ui:{button:"button"},events:{"click @ui.button":"onBackClick"},onBackClick:function(){s.setPreview("back")}}),l.LibraryInsertTemplateBehavior=Marionette.Behavior.extend({ui:{insertButton:".landingpresskit-template-library-template-insert"},events:{"click @ui.insertButton":"onInsertButtonClick"},onInsertButtonClick:function(){var i=this.view.model,n={};s.layout.showInsertingView(),elementor.templates.requestTemplateContent(i.get("source"),i.get("template_id"),{data:{tab:s.getTab(),page_settings:!0},success:function(e){var t;e.errors&&(t="",_.each(e.errors,function(e){t+=e+". "}),t=t||"ERROR - Error message is empty!",alert(t)),null!==s.atIndex&&(n.at=s.atIndex),$e.run("document/elements/import",{model:i,data:e,options:n}),s.atIndex=null,s.closeModal()}})}}),l.LibraryHeaderInsertButton=Marionette.ItemView.extend({template:"#tmpl-landingpresskit-template-library-insert-button",id:"landingpresskit-template-library-insert-button",behaviors:{insertTemplate:{behaviorClass:l.LibraryInsertTemplateBehavior}}}),l.LibraryTemplateItemView=Marionette.ItemView.extend({template:"#tmpl-landingpresskit-template-library-item",className:function(){var e=" landingpresskit-template-has-url";return"elementor-template-library-template elementor-template-library-template-remote"+(e=""===this.model.get("url")?" landingpresskit-template-no-url":e)},ui:function(){return{previewButton:".elementor-template-library-template-preview"}},events:function(){return{"click @ui.previewButton":"onPreviewButtonClick"}},onPreviewButtonClick:function(){""!==this.model.get("url")&&s.setPreview(this.model)},behaviors:{insertTemplate:{behaviorClass:l.LibraryInsertTemplateBehavior}}}),l.LibraryTabsItemView=Marionette.ItemView.extend({template:"#tmpl-landingpresskit-template-library-tabs-item",className:function(){return"elementor-template-library-menu-item"},ui:function(){return{tabsLabels:"label",tabsInput:"input"}},events:function(){return{"click @ui.tabsLabels":"onTabClick"}},onRender:function(){this.model.get("slug")===s.getTab()&&this.ui.tabsInput.attr("checked","checked")},onTabClick:function(e){e=jQuery(e.target);s.setTab(e.val()),s.setFilter("category",""),s.setFilter("keyword",""),s.setFilter("search","")}}),l.LibraryCollectionView=Marionette.CompositeView.extend({template:"#tmpl-landingpresskit-template-library-templates",id:"landingpresskit-template-library-templates",childViewContainer:"#landingpresskit-template-library-templates-container",initialize:function(){this.listenTo(s.channels.templates,"filter:change",this._renderChildren)},filter:function(e){var t=s.getFilter("category"),i=s.getFilter("keyword"),n=s.getFilter("search");return n?t||i?i&&!t?_.contains(e.get("keywords"),i)&&e.get("title").toLowerCase().includes(n):t&&!i?_.contains(e.get("categories"),t)&&e.get("title").toLowerCase().includes(n):_.contains(e.get("categories"),t)&&_.contains(e.get("keywords"),i)&&e.get("title").toLowerCase().includes(n):e.get("title").toLowerCase().includes(n):!t&&!i||(i&&!t?_.contains(e.get("keywords"),i):t&&!i?_.contains(e.get("categories"),t):_.contains(e.get("categories"),t)&&_.contains(e.get("keywords"),i))},getChildView:function(e){return l.LibraryTemplateItemView},onRenderCollection:function(){this.$childViewContainer,this.$childViewContainer.children(),s.getTab()}}),l.LibraryTabsCollectionView=Marionette.CompositeView.extend({template:"#tmpl-landingpresskit-template-library-tabs",childViewContainer:"#landingpresskit-template-library-tabs-items",initialize:function(){this.listenTo(s.channels.layout,"tamplate:cloned",this._renderChildren)},getChildView:function(e){return l.LibraryTabsItemView}}),l.LibraryBodyView=Marionette.LayoutView.extend({id:"landingpresskit-template-library-content",className:function(){return"library-tab-"+s.getTab()},template:"#tmpl-landingpresskit-template-library-content",regions:{contentTemplates:".landingpresskit-templates-list",contentCategories:".landingpresskit-categories-list",contentKeywords:".landingpresskit-keywords-list",contentSearch:".landingpresskit-search"}}),l.LibraryLayoutView=Marionette.LayoutView.extend({el:"#landingpresskit-template-library-modal",regions:e.modalRegions,initialize:function(){this.getRegion("modalHeader").show(new l.LibraryHeaderView),this.listenTo(s.channels.tabs,"filter:change",this.switchTabs),this.listenTo(s.channels.layout,"preview:change",this.switchPreview)},switchTabs:function(){this.showLoadingView(),s.setFilter("category",""),s.setFilter("keyword",""),s.setFilter("search",""),s.requestTemplates(s.getTab())},switchPreview:function(){var e=this.getHeaderView(),t=s.getPreview();if("back"===t)return e.headerTabs.show(new l.LibraryTabsCollectionView({collection:s.collections.tabs})),e.headerActions.empty(),void s.setTab(s.getTab());"initial"===t?e.headerActions.empty():(this.getRegion("modalContent").show(new l.LibraryPreviewView({preview:t.get("url")})),e.headerTabs.show(new l.LibraryHeaderBack),e.headerActions.show(new l.LibraryHeaderInsertButton({model:t})))},getHeaderView:function(){return this.getRegion("modalHeader").currentView},getContentView:function(){return this.getRegion("modalContent").currentView},showLoadingView:function(){this.modalContent.show(new l.LibraryLoadingView)},showInsertingView:function(){this.modalContent.show(new l.LibraryInsertingView)},showTemplatesView:function(e,t,i){this.getRegion("modalContent").show(new l.LibraryBodyView);var n=this.getContentView(),a=this.getHeaderView(),t=new l.CategoriesModel({categories:t}),i=new l.KeywordsModel({keywords:i}),r=new l.SearchModel({search:""});s.collections.tabs=new l.LibraryTabsCollection(s.getTabs()),a.headerTabs.show(new l.LibraryTabsCollectionView({collection:s.collections.tabs})),n.contentTemplates.show(new l.LibraryCollectionView({collection:e})),n.contentCategories.show(new l.CategoriesView({model:t})),this.$(".landingpresskit-library-categories").length&&this.$(".landingpresskit-library-categories").select2({width:275}),this.$(".landingpresskit-library-keywords").length&&(n.contentKeywords.show(new l.KeywordsView({model:i})),this.$(".landingpresskit-library-keywords").select2({width:275})),n.contentSearch.show(new l.SearchView({model:r}))}})},masonry:{self:{},elements:{},init:function(e){var t=this;t.settings=a.extend(t.getDefaultSettings(),e),t.elements=t.getDefaultElements(),t.run()},getSettings:function(e){return e?this.settings[e]:this.settings},getDefaultSettings:function(){return{container:null,items:null,columnsCount:3,verticalSpaceBetween:30}},getDefaultElements:function(){return{$container:jQuery(this.getSettings("container")),$items:jQuery(this.getSettings("items"))}},run:function(){var r=[],l=this.elements.$container.position().top,s=this.getSettings(),o=s.columnsCount;l+=parseInt(this.elements.$container.css("margin-top"),10),this.elements.$container.height(""),this.elements.$items.each(function(e){var t=Math.floor(e/o),e=e%o,i=jQuery(this),n=i.position(),a=i[0].getBoundingClientRect().height+s.verticalSpaceBetween;t?(t=n.top-l-r[e],t-=parseInt(i.css("margin-top"),10),i.css("margin-top",(t*=-1)+"px"),r[e]+=a):r.push(a)}),this.elements.$container.height(Math.max.apply(Math,r))}}},i={LandingPressKitSearchView:null,init:function(){this.LandingPressKitSearchView=window.elementor.modules.controls.BaseData.extend({hasTitles:!1,getAjaxUrl:function(e,t){var i="";return 0<t.length&&a.each(t,function(e,t){window.elementor.settings.page.model.attributes[t]&&(i+="&"+t+"="+window.elementor.settings.page.model.attributes[t])}),ajaxurl+"?action="+e+i},onReady:function(){var e=this,t=this.model.attributes.action,i=this.model.attributes.query_params;this.ui.select.find("option").each(function(e,t){a(this).attr("selected",!0)}),this.ui.select.select2({ajax:{url:function(){return e.getAjaxUrl(t,i)},dataType:"json"},placeholder:"Please enter 3 or more characters",minimumInputLength:3,allowClear:!0}),this.hasTitles||this.getOptionsTitles()},getOptionsTitles:function(){var t=this,e=this.model.attributes.action,i=this.model.attributes.query_params,n=this.getControlValue();n&&(a.isArray(n)&&(n=n.join()),e=t.getAjaxUrl(e,i)+"&ids="+n,a.ajax({url:e,dataType:"json",beforeSend:function(){t.ui.select.prop("disabled",!0)},success:function(e){t.hasTitles=!0,t.model.set("saved",t.prepareOptions(e.results)),t.render()}}))},prepareOptions:function(e){var i={};return a.each(e,function(e,t){i[t.id]=t.text}),i},onBeforeDestroy:function(){this.ui.select.data("select2")&&this.ui.select.select2("destroy"),this.$el.remove()}}),window.elementor.addControlView("landingpresskit_search",this.LandingPressKitSearchView)}},s={modal:!1,layout:!1,collections:{},tabs:{},defaultTab:"",channels:{},atIndex:null,init:function(){window.elementor.on("preview:loaded",window._.bind(s.onPreviewLoaded,s)),r.init(),i.init();var e,t=a("#tmpl-elementor-add-section");0<t.length&&(e=(e=t.text()).replace('<div class="elementor-add-section-drag-title','<div class="elementor-add-section-area-button elementor-add-landingpresskit-button add-landingpresskit-template" title="Add LandingPress Template"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3lpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDcuMS1jMDAwIDc5LmRhYmFjYmIsIDIwMjEvMDQvMTQtMDA6Mzk6NDQgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NDkzZmM3OWEtZjBkNy00MzhkLWIxZWEtYTlmNThlOWI2NWYwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkM5MENFMTA0NUVFQzExRUNCMjg0Qjc3QzM1QjdFOEE5IiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkM5MENFMTAzNUVFQzExRUNCMjg0Qjc3QzM1QjdFOEE5IiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE3IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6YWQ3NDAwNTEtYTU5Ny00ODJiLTg4MmQtNDM0YmJiYzE4MWU0IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjQ5M2ZjNzlhLWYwZDctNDM4ZC1iMWVhLWE5ZjU4ZTliNjVm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" alt="LandingPress" /></div> <div class="elementor-add-section-drag-title'),t.text(e))},onPreviewLoaded:function(){this.initLandingPressKitButton(),window.elementor.$previewContents.on("click.addLandingPressKitTemplate",".add-landingpresskit-template",_.bind(this.showTemplatesModal,this)),this.channels={templates:Backbone.Radio.channel("LANDINGPRESSKIT_EDITOR:templates"),tabs:Backbone.Radio.channel("LANDINGPRESSKIT_EDITOR:tabs"),layout:Backbone.Radio.channel("LANDINGPRESSKIT_EDITOR:layout")},this.tabs=e.tabs,this.defaultTab=e.defaultTab},initLandingPressKitButton:function(){window.elementor.$previewContents.on("click.addLandingPressKitTemplate",".elementor-editor-section-settings .elementor-editor-element-add",function(){var i=a(this).closest(".elementor-top-section").data("model-cid");window.elementor.hasOwnProperty("previewView")?window.elementor.previewView.collection.length&&a.each(window.elementor.previewView.collection.models,function(e,t){i===t.cid&&(s.atIndex=e)}):window.elementor.hasOwnProperty("sections")&&window.elementor.sections.currentView.collection.length&&a.each(window.elementor.sections.currentView.collection.models,function(e,t){i===t.cid&&(s.atIndex=e)})})},getFilter:function(e){return this.channels.templates.request("filter:"+e)},setFilter:function(e,t){this.channels.templates.reply("filter:"+e,t),this.channels.templates.trigger("filter:change")},getTab:function(){return this.channels.tabs.request("filter:tabs")},setTab:function(e,t){this.channels.tabs.reply("filter:tabs",e),t||this.channels.tabs.trigger("filter:change")},getTabs:function(){var i=[];return _.each(this.tabs,function(e,t){i.push({slug:t,title:e.title})}),i},getPreview:function(e){return this.channels.layout.request("preview")},setPreview:function(e,t){this.channels.layout.reply("preview",e),t||this.channels.layout.trigger("preview:change")},getCategories:function(){return _.each(this.categories,function(e,t){tabs.push({slug:t,title:e})}),[]},getKeywords:function(){return _.each(this.keywords,function(e,t){tabs.push({slug:t,title:e})}),[]},showTemplatesModal:function(){this.getModal().show(),this.layout||(this.layout=new r.LibraryLayoutView,this.layout.showLoadingView()),this.setTab(this.defaultTab,!0),this.requestTemplates(this.defaultTab),this.setPreview("initial")},requestTemplates:function(i){var n=this,e=n.tabs[i];e.data.templates?n.layout.showTemplatesView(e.data.templates,e.data.categories,e.data.keywords):a.ajax({url:ajaxurl,type:"get",dataType:"json",data:{action:"landingpresskit_get_templates",tab:i},success:function(e){var t=new r.LibraryCollection(e.data.templates);n.tabs[i].data={templates:t,categories:e.data.categories,keywords:e.data.keywords},n.layout.showTemplatesView(t,e.data.categories,e.data.keywords)}})},closeModal:function(){this.getModal().hide()},getModal:function(){return this.modal||(this.modal=elementor.dialogsManager.createWidget("lightbox",{id:"landingpresskit-template-library-modal",className:"elementor-templates-modal",closeButton:!1})),this.modal}};a(window).on("elementor:init",s.init)}(jQuery);